[debug] [2025-08-01T04:58:31.770Z] ----------------------------------------------------------------------
[debug] [2025-08-01T04:58:31.787Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\allan\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js emulators:start
[debug] [2025-08-01T04:58:31.788Z] CLI Version:   14.11.0
[debug] [2025-08-01T04:58:31.788Z] Platform:      win32
[debug] [2025-08-01T04:58:31.788Z] Node Version:  v20.17.0
[debug] [2025-08-01T04:58:31.788Z] Time:          Fri Aug 01 2025 01:58:31 GMT-0300 (Horário Padrão de Brasília)
[debug] [2025-08-01T04:58:31.788Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-08-01T04:58:32.244Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-08-01T04:58:32.245Z] > authorizing via signed-in user (allanshinhamabelo@gmail.com)
[info] i  emulators: Starting emulators: functions, hosting, extensions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions, hosting, extensions"}}
[debug] [2025-08-01T04:58:32.253Z] Checked if tokens are valid: true, expires at: 1754025975810
[debug] [2025-08-01T04:58:32.254Z] Checked if tokens are valid: true, expires at: 1754025975810
[debug] [2025-08-01T04:58:32.255Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/clone-a3fa0 [none]
[debug] [2025-08-01T04:58:33.130Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/clone-a3fa0 200
[debug] [2025-08-01T04:58:33.130Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/clone-a3fa0 {"projectNumber":"733247188223","projectId":"clone-a3fa0","lifecycleState":"ACTIVE","name":"amazon-clone","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-03-04T19:12:44.097847Z"}
[debug] [2025-08-01T04:58:33.154Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-08-01T04:58:33.154Z] [hosting] Hosting Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-08-01T04:58:33.154Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"hosting":[{"address":"127.0.0.1","family":"IPv4","port":5000}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2025-08-01T04:58:33.164Z] [hub] writing locator at C:\Users\allan\AppData\Local\Temp\hub-clone-a3fa0.json
[debug] [2025-08-01T04:58:33.183Z] [Extensions] Started Extensions emulator, this is a noop.
[debug] [2025-08-01T04:58:33.193Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-08-01T04:58:33.193Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-08-01T04:58:33.193Z] [tasks] Cloud Tasks Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-08-01T04:58:33.193Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"hosting":[{"address":"127.0.0.1","family":"IPv4","port":5000}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}],"tasks":[{"address":"127.0.0.1","family":"IPv4","port":9499}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] !  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: apphosting, auth, firestore, database, pubsub, storage, dataconnect {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mapphosting, auth, firestore, database, pubsub, storage, dataconnect\u001b[22m"}}
[debug] [2025-08-01T04:58:33.373Z] defaultcredentials: writing to file C:\Users\allan\AppData\Roaming\firebase\allanshinhamabelo_gmail_com_application_default_credentials.json
[debug] [2025-08-01T04:58:33.377Z] Setting GAC to C:\Users\allan\AppData\Roaming\firebase\allanshinhamabelo_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\allan\\AppData\\Roaming\\firebase\\allanshinhamabelo_gmail_com_application_default_credentials.json"}}
[debug] [2025-08-01T04:58:33.378Z] Checked if tokens are valid: true, expires at: 1754025975810
[debug] [2025-08-01T04:58:33.378Z] Checked if tokens are valid: true, expires at: 1754025975810
[debug] [2025-08-01T04:58:33.378Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/clone-a3fa0/adminSdkConfig [none]
[debug] [2025-08-01T04:58:34.299Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/clone-a3fa0/adminSdkConfig 200
[debug] [2025-08-01T04:58:34.299Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/clone-a3fa0/adminSdkConfig {"projectId":"clone-a3fa0","storageBucket":"clone-a3fa0.firebasestorage.app"}
[debug] [2025-08-01T04:58:34.334Z] Checked if tokens are valid: true, expires at: 1754025975810
[debug] [2025-08-01T04:58:34.334Z] Checked if tokens are valid: true, expires at: 1754025975810
[debug] [2025-08-01T04:58:34.335Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/clone-a3fa0/sites 
[debug] [2025-08-01T04:58:35.294Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/clone-a3fa0/sites 200
[debug] [2025-08-01T04:58:35.294Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/clone-a3fa0/sites {"sites":[{"name":"projects/clone-a3fa0/sites/clone-a3fa0","defaultUrl":"https://clone-a3fa0.web.app","appId":"1:733247188223:web:904fae3b672769467670ca","type":"DEFAULT_SITE"}]}
[debug] [2025-08-01T04:58:35.295Z] Checked if tokens are valid: true, expires at: 1754025975810
[debug] [2025-08-01T04:58:35.295Z] Checked if tokens are valid: true, expires at: 1754025975810
[debug] [2025-08-01T04:58:35.295Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/clone-a3fa0/webApps/1:733247188223:web:904fae3b672769467670ca/config [none]
[debug] [2025-08-01T04:58:35.815Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/clone-a3fa0/webApps/1:733247188223:web:904fae3b672769467670ca/config 200
[debug] [2025-08-01T04:58:35.815Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/clone-a3fa0/webApps/1:733247188223:web:904fae3b672769467670ca/config {"projectId":"clone-a3fa0","appId":"1:733247188223:web:904fae3b672769467670ca","storageBucket":"clone-a3fa0.firebasestorage.app","apiKey":"AIzaSyB0wEQ1HGQse9sqERzK1velXC60eXKJYI4","authDomain":"clone-a3fa0.firebaseapp.com","messagingSenderId":"733247188223","measurementId":"G-CPZ7KVRQLQ"}
[debug] [2025-08-01T04:58:35.820Z] Checked if tokens are valid: true, expires at: 1754025975810
[debug] [2025-08-01T04:58:35.820Z] Checked if tokens are valid: true, expires at: 1754025975810
[debug] [2025-08-01T04:58:35.821Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/clone-a3fa0 [none]
[debug] [2025-08-01T04:58:36.143Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/clone-a3fa0 200
[debug] [2025-08-01T04:58:36.144Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/clone-a3fa0 {"projectId":"clone-a3fa0","projectNumber":"733247188223","displayName":"amazon-clone","name":"projects/clone-a3fa0","resources":{"hostingSite":"clone-a3fa0"},"state":"ACTIVE","etag":"1_7724bdc3-e25c-4895-9976-eb72d601c7eb"}
[info] i  hosting[clone-a3fa0]: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] +  hosting[clone-a3fa0]: Local server: http://127.0.0.1:5000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://127.0.0.1:5000\u001b[22m\u001b[24m"}}
[debug] [2025-08-01T04:58:36.192Z] [Extensions] Connecting Extensions emulator, this is a noop.
[info] i  functions: Watching "C:\Users\allan\Desktop\Projetos VSCODE\Full-stack\amazon-clone-app\functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\" for Cloud Functions..."}}
[debug] [2025-08-01T04:58:36.220Z] Validating nodejs source
[debug] [2025-08-01T04:58:38.054Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-01T04:58:38.055Z] Building nodejs source
[debug] [2025-08-01T04:58:38.055Z] Failed to find version of module node: reached end of search path C:\Users\allan\Desktop\Projetos VSCODE\Full-stack\amazon-clone-app\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[debug] [2025-08-01T04:58:38.060Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-01T04:58:38.074Z] Found firebase-functions binary at 'C:\Users\allan\Desktop\Projetos VSCODE\Full-stack\amazon-clone-app\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8088

[debug] [2025-08-01T04:58:39.702Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-08-01T04:58:44.753Z] defaultcredentials: writing to file C:\Users\allan\AppData\Roaming\firebase\allanshinhamabelo_gmail_com_application_default_credentials.json
[debug] [2025-08-01T04:58:44.754Z] Setting GAC to C:\Users\allan\AppData\Roaming\firebase\allanshinhamabelo_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\allan\\AppData\\Roaming\\firebase\\allanshinhamabelo_gmail_com_application_default_credentials.json"}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions[us-central1-api]: http function initialized (http://127.0.0.1:5001/clone-a3fa0/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/clone-a3fa0/us-central1/api)."}}
[debug] [2025-08-01T04:58:44.766Z] Could not find VSCode notification endpoint: FetchError: request to http://localhost:40001/vscode/notify failed, reason: . If you are not running the Firebase Data Connect VSCode extension, this is expected and not an issue.
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌────────────┬────────────────┬──────────────────────────────────┐
│ Emulator   │ Host:Port      │ View in Emulator UI              │
├────────────┼────────────────┼──────────────────────────────────┤
│ Functions  │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions  │
├────────────┼────────────────┼──────────────────────────────────┤
│ Hosting    │ 127.0.0.1:5000 │ n/a                              │
├────────────┼────────────────┼──────────────────────────────────┤
│ Extensions │ 127.0.0.1:5001 │ http://127.0.0.1:4000/extensions │
└────────────┴────────────────┴──────────────────────────────────┘
  Emulator Hub host: 127.0.0.1 port: 4400
  Other reserved ports: 4500
┌─────────────────────────┬───────────────┬─────────────────────┐
│ Extension Instance Name │ Extension Ref │ View in Emulator UI │
└─────────────────────────┴───────────────┴─────────────────────┘
Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2025-08-01T04:59:28.326Z] [work-queue] {"queuedWork":["/clone-a3fa0/us-central1/api-2025-08-01T04:59:28.325Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-08-01T04:59:28.327Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-a3fa0/us-central1/api-2025-08-01T04:59:28.325Z"],"workRunningCount":1}
[debug] [2025-08-01T04:59:28.328Z] Accepted request GET /clone-a3fa0/us-central1/api --> us-central1-api
[debug] [2025-08-01T04:59:28.335Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-08-01T04:59:28.337Z] [functions] Got req.url=/clone-a3fa0/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a3fa0/us-central1/api, mapping to path=/"}}
[debug] [2025-08-01T04:59:28.367Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2025-08-01T04:59:28.371Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2025-08-01T04:59:32.339Z] [runtime-status] [13992] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13992] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Users\\\\allan\\\\Desktop\\\\Projetos VSCODE\\\\Full-stack\\\\amazon-clone-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-08-01T04:59:32.348Z] [runtime-status] [13992] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.4.0","resolution":"C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13992] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"C:\\\\Users\\\\allan\\\\Desktop\\\\Projetos VSCODE\\\\Full-stack\\\\amazon-clone-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-08-01T04:59:32.349Z] [runtime-status] [13992] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13992] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-08-01T04:59:32.351Z] [runtime-status] [13992] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.4.0","resolution":"C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13992] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"C:\\\\Users\\\\allan\\\\Desktop\\\\Projetos VSCODE\\\\Full-stack\\\\amazon-clone-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-08-01T04:59:33.671Z] [runtime-status] [13992] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13992] Checked functions.config() {\"config\":{}}"}}
[debug] [2025-08-01T04:59:33.672Z] [runtime-status] [13992] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.4.0","resolution":"C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13992] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"C:\\\\Users\\\\allan\\\\Desktop\\\\Projetos VSCODE\\\\Full-stack\\\\amazon-clone-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}}"}}
[debug] [2025-08-01T04:59:33.676Z] [runtime-status] [13992] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.4.0","resolution":"C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13992] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"C:\\\\Users\\\\allan\\\\Desktop\\\\Projetos VSCODE\\\\Full-stack\\\\amazon-clone-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-08-01T04:59:33.698Z] [runtime-status] [13992] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13992] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Users\\\\allan\\\\Desktop\\\\Projetos VSCODE\\\\Full-stack\\\\amazon-clone-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-08-01T04:59:33.713Z] [runtime-status] [13992] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.4.0","resolution":"C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13992] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"C:\\\\Users\\\\allan\\\\Desktop\\\\Projetos VSCODE\\\\Full-stack\\\\amazon-clone-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-08-01T04:59:33.715Z] [runtime-status] [13992] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13992] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Users\\\\allan\\\\Desktop\\\\Projetos VSCODE\\\\Full-stack\\\\amazon-clone-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2025-08-01T04:59:34.619Z] [runtime-status] [13992] Functions runtime initialized. {"cwd":"C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions","node_version":"20.17.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13992] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\allan\\\\Desktop\\\\Projetos VSCODE\\\\Full-stack\\\\amazon-clone-app\\\\functions\",\"node_version\":\"20.17.0\"}"}}
[debug] [2025-08-01T04:59:34.620Z] [runtime-status] [13992] Listening to port: \\?\pipe\fire_emu_428e0a1d02af2cd8 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13992] Listening to port: \\\\?\\pipe\\fire_emu_428e0a1d02af2cd8"}}
[debug] [2025-08-01T04:59:34.708Z] [worker-us-central1-api-d1ee5f8b-02c4-4522-a1d2-835d682a126f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-d1ee5f8b-02c4-4522-a1d2-835d682a126f]: IDLE"}}
[debug] [2025-08-01T04:59:34.709Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-08-01T04:59:34.712Z] [worker-us-central1-api-d1ee5f8b-02c4-4522-a1d2-835d682a126f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-d1ee5f8b-02c4-4522-a1d2-835d682a126f]: BUSY"}}
[debug] [2025-08-01T04:59:34.733Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 21.6559ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 21.6559ms"}}
[debug] [2025-08-01T04:59:34.734Z] [worker-us-central1-api-d1ee5f8b-02c4-4522-a1d2-835d682a126f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-d1ee5f8b-02c4-4522-a1d2-835d682a126f]: IDLE"}}
[debug] [2025-08-01T04:59:34.735Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-08-01T04:59:34.735Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-08-01T04:59:34.736Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-08-01T05:02:41.928Z] [work-queue] {"queuedWork":["/clone-a3fa0/us-central1/api-2025-08-01T05:02:41.921Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-08-01T05:02:41.936Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-a3fa0/us-central1/api-2025-08-01T05:02:41.921Z"],"workRunningCount":1}
[debug] [2025-08-01T05:02:41.937Z] Accepted request GET /clone-a3fa0/us-central1/api --> us-central1-api
[debug] [2025-08-01T05:02:42.016Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-08-01T05:02:42.017Z] [functions] Got req.url=/clone-a3fa0/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a3fa0/us-central1/api, mapping to path=/"}}
[debug] [2025-08-01T05:02:42.019Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-08-01T05:02:42.026Z] [worker-us-central1-api-d1ee5f8b-02c4-4522-a1d2-835d682a126f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-d1ee5f8b-02c4-4522-a1d2-835d682a126f]: BUSY"}}
[debug] [2025-08-01T05:02:42.040Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 14.4634ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 14.4634ms"}}
[debug] [2025-08-01T05:02:42.042Z] [worker-us-central1-api-d1ee5f8b-02c4-4522-a1d2-835d682a126f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-d1ee5f8b-02c4-4522-a1d2-835d682a126f]: IDLE"}}
[debug] [2025-08-01T05:02:42.043Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-08-01T05:02:42.043Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-08-01T05:02:42.045Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-08-01T05:04:52.397Z] [work-queue] {"queuedWork":["/clone-a3fa0/us-central1/api/payments/create-2025-08-01T05:04:52.395Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-08-01T05:04:52.399Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-a3fa0/us-central1/api/payments/create-2025-08-01T05:04:52.395Z"],"workRunningCount":1}
[debug] [2025-08-01T05:04:52.399Z] Accepted request POST /clone-a3fa0/us-central1/api/payments/create?total=138998 --> us-central1-api
[debug] [2025-08-01T05:04:52.414Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-08-01T05:04:52.416Z] [functions] Got req.url=/clone-a3fa0/us-central1/api/payments/create?total=138998, mapping to path=/payments/create?total=138998 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a3fa0/us-central1/api/payments/create?total=138998, mapping to path=/payments/create?total=138998"}}
[debug] [2025-08-01T05:04:52.417Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-08-01T05:04:52.419Z] [worker-us-central1-api-d1ee5f8b-02c4-4522-a1d2-835d682a126f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-d1ee5f8b-02c4-4522-a1d2-835d682a126f]: BUSY"}}
[debug] [2025-08-01T05:04:52.426Z] [work-queue] {"queuedWork":["/clone-a3fa0/us-central1/api/payments/create-2025-08-01T05:04:52.426Z"],"queueLength":1,"runningWork":["/clone-a3fa0/us-central1/api/payments/create-2025-08-01T05:04:52.395Z"],"workRunningCount":1}
[debug] [2025-08-01T05:04:52.426Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-a3fa0/us-central1/api/payments/create-2025-08-01T05:04:52.395Z","/clone-a3fa0/us-central1/api/payments/create-2025-08-01T05:04:52.426Z"],"workRunningCount":2}
[debug] [2025-08-01T05:04:52.427Z] Accepted request POST /clone-a3fa0/us-central1/api/payments/create?total=138998 --> us-central1-api
[debug] [2025-08-01T05:04:52.431Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-08-01T05:04:52.431Z] [functions] Got req.url=/clone-a3fa0/us-central1/api/payments/create?total=138998, mapping to path=/payments/create?total=138998 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a3fa0/us-central1/api/payments/create?total=138998, mapping to path=/payments/create?total=138998"}}
[debug] [2025-08-01T05:04:52.493Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2025-08-01T05:04:52.495Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[info] >  Payment Request Received. For this amount >>>  138998 {"user":"Payment Request Received. For this amount >>>  138998","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received. For this amount >>>  138998"}}
[debug] [2025-08-01T05:04:53.597Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1178.6221ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1178.6221ms"}}
[debug] [2025-08-01T05:04:53.598Z] [worker-us-central1-api-d1ee5f8b-02c4-4522-a1d2-835d682a126f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-d1ee5f8b-02c4-4522-a1d2-835d682a126f]: IDLE"}}
[debug] [2025-08-01T05:04:53.598Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-08-01T05:04:53.599Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-08-01T05:04:53.599Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-a3fa0/us-central1/api/payments/create-2025-08-01T05:04:52.426Z"],"workRunningCount":1}
[debug] [2025-08-01T05:04:55.139Z] [runtime-status] [19424] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19424] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Users\\\\allan\\\\Desktop\\\\Projetos VSCODE\\\\Full-stack\\\\amazon-clone-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-08-01T05:04:55.141Z] [runtime-status] [19424] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.4.0","resolution":"C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19424] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"C:\\\\Users\\\\allan\\\\Desktop\\\\Projetos VSCODE\\\\Full-stack\\\\amazon-clone-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-08-01T05:04:55.141Z] [runtime-status] [19424] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19424] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-08-01T05:04:55.142Z] [runtime-status] [19424] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.4.0","resolution":"C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19424] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"C:\\\\Users\\\\allan\\\\Desktop\\\\Projetos VSCODE\\\\Full-stack\\\\amazon-clone-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-08-01T05:04:55.828Z] [runtime-status] [19424] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19424] Checked functions.config() {\"config\":{}}"}}
[debug] [2025-08-01T05:04:55.830Z] [runtime-status] [19424] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.4.0","resolution":"C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19424] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"C:\\\\Users\\\\allan\\\\Desktop\\\\Projetos VSCODE\\\\Full-stack\\\\amazon-clone-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}}"}}
[debug] [2025-08-01T05:04:55.830Z] [runtime-status] [19424] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.4.0","resolution":"C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19424] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"C:\\\\Users\\\\allan\\\\Desktop\\\\Projetos VSCODE\\\\Full-stack\\\\amazon-clone-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-08-01T05:04:55.834Z] [runtime-status] [19424] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19424] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Users\\\\allan\\\\Desktop\\\\Projetos VSCODE\\\\Full-stack\\\\amazon-clone-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-08-01T05:04:55.838Z] [runtime-status] [19424] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.4.0","resolution":"C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19424] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"C:\\\\Users\\\\allan\\\\Desktop\\\\Projetos VSCODE\\\\Full-stack\\\\amazon-clone-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-08-01T05:04:55.839Z] [runtime-status] [19424] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19424] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Users\\\\allan\\\\Desktop\\\\Projetos VSCODE\\\\Full-stack\\\\amazon-clone-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2025-08-01T05:04:56.406Z] [runtime-status] [19424] Functions runtime initialized. {"cwd":"C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions","node_version":"20.17.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19424] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\allan\\\\Desktop\\\\Projetos VSCODE\\\\Full-stack\\\\amazon-clone-app\\\\functions\",\"node_version\":\"20.17.0\"}"}}
[debug] [2025-08-01T05:04:56.407Z] [runtime-status] [19424] Listening to port: \\?\pipe\fire_emu_af11960783763fe4 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19424] Listening to port: \\\\?\\pipe\\fire_emu_af11960783763fe4"}}
[debug] [2025-08-01T05:04:56.451Z] [worker-us-central1-api-f91db49b-870e-4719-b231-437b53771ce9]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f91db49b-870e-4719-b231-437b53771ce9]: IDLE"}}
[debug] [2025-08-01T05:04:56.451Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-08-01T05:04:56.452Z] [worker-us-central1-api-d1ee5f8b-02c4-4522-a1d2-835d682a126f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-d1ee5f8b-02c4-4522-a1d2-835d682a126f]: BUSY"}}
[info] >  Payment Request Received. For this amount >>>  138998 {"user":"Payment Request Received. For this amount >>>  138998","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received. For this amount >>>  138998"}}
[debug] [2025-08-01T05:04:56.751Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 300.3377ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 300.3377ms"}}
[debug] [2025-08-01T05:04:56.753Z] [worker-us-central1-api-d1ee5f8b-02c4-4522-a1d2-835d682a126f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-d1ee5f8b-02c4-4522-a1d2-835d682a126f]: IDLE"}}
[debug] [2025-08-01T05:04:56.753Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-08-01T05:04:56.753Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-08-01T05:04:56.754Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-08-01T05:06:23.016Z] [work-queue] {"queuedWork":["/clone-a3fa0/us-central1/api/payments/create-2025-08-01T05:06:23.016Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-08-01T05:06:23.017Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-a3fa0/us-central1/api/payments/create-2025-08-01T05:06:23.016Z"],"workRunningCount":1}
[debug] [2025-08-01T05:06:23.017Z] Accepted request POST /clone-a3fa0/us-central1/api/payments/create?total=138998 --> us-central1-api
[debug] [2025-08-01T05:06:23.022Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-08-01T05:06:23.022Z] [functions] Got req.url=/clone-a3fa0/us-central1/api/payments/create?total=138998, mapping to path=/payments/create?total=138998 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a3fa0/us-central1/api/payments/create?total=138998, mapping to path=/payments/create?total=138998"}}
[debug] [2025-08-01T05:06:23.022Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-08-01T05:06:23.024Z] [worker-us-central1-api-d1ee5f8b-02c4-4522-a1d2-835d682a126f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-d1ee5f8b-02c4-4522-a1d2-835d682a126f]: BUSY"}}
[info] >  Payment Request Received. For this amount >>>  138998 {"user":"Payment Request Received. For this amount >>>  138998","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received. For this amount >>>  138998"}}
[debug] [2025-08-01T05:06:23.882Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 858.4124ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 858.4124ms"}}
[debug] [2025-08-01T05:06:23.883Z] [worker-us-central1-api-d1ee5f8b-02c4-4522-a1d2-835d682a126f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-d1ee5f8b-02c4-4522-a1d2-835d682a126f]: IDLE"}}
[debug] [2025-08-01T05:06:23.884Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-08-01T05:06:23.884Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-08-01T05:06:23.884Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-08-01T05:06:40.931Z] [work-queue] {"queuedWork":["/clone-a3fa0/us-central1/api/payments/create-2025-08-01T05:06:40.931Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-08-01T05:06:40.933Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-a3fa0/us-central1/api/payments/create-2025-08-01T05:06:40.931Z"],"workRunningCount":1}
[debug] [2025-08-01T05:06:40.934Z] Accepted request POST /clone-a3fa0/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2025-08-01T05:06:40.946Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-08-01T05:06:40.946Z] [functions] Got req.url=/clone-a3fa0/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a3fa0/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2025-08-01T05:06:40.947Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-08-01T05:06:40.952Z] [worker-us-central1-api-d1ee5f8b-02c4-4522-a1d2-835d682a126f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-d1ee5f8b-02c4-4522-a1d2-835d682a126f]: BUSY"}}
[debug] [2025-08-01T05:06:40.957Z] [work-queue] {"queuedWork":["/clone-a3fa0/us-central1/api/payments/create-2025-08-01T05:06:40.957Z"],"queueLength":1,"runningWork":["/clone-a3fa0/us-central1/api/payments/create-2025-08-01T05:06:40.931Z"],"workRunningCount":1}
[debug] [2025-08-01T05:06:40.957Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-a3fa0/us-central1/api/payments/create-2025-08-01T05:06:40.931Z","/clone-a3fa0/us-central1/api/payments/create-2025-08-01T05:06:40.957Z"],"workRunningCount":2}
[debug] [2025-08-01T05:06:40.957Z] Accepted request POST /clone-a3fa0/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2025-08-01T05:06:40.978Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-08-01T05:06:40.979Z] [functions] Got req.url=/clone-a3fa0/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a3fa0/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2025-08-01T05:06:40.980Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-08-01T05:06:40.981Z] [worker-us-central1-api-f91db49b-870e-4719-b231-437b53771ce9]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f91db49b-870e-4719-b231-437b53771ce9]: BUSY"}}
[info] >  Payment Request Received. For this amount >>>  0 {"user":"Payment Request Received. For this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received. For this amount >>>  0"}}
[info] >  Payment Request Received. For this amount >>>  0 {"user":"Payment Request Received. For this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received. For this amount >>>  0"}}
[debug] [2025-08-01T05:06:41.243Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 292.2242ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 292.2242ms"}}
[debug] [2025-08-01T05:06:41.246Z] [worker-us-central1-api-d1ee5f8b-02c4-4522-a1d2-835d682a126f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-d1ee5f8b-02c4-4522-a1d2-835d682a126f]: IDLE"}}
[debug] [2025-08-01T05:06:41.246Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-08-01T05:06:41.247Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-08-01T05:06:41.247Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-a3fa0/us-central1/api/payments/create-2025-08-01T05:06:40.957Z"],"workRunningCount":1}
[info] >  Error: The amount must be greater than or equal to the minimum charge amount allowed for your account and the currency set (https://docs.stripe.com/currencies#minimum-and-maximum-charge-amounts).  If you want to save a Payment Method for future use without an immediate payment, use a Setup Intent instead: https://docs.stripe.com/payments/setup-intents {"user":"Error: The amount must be greater than or equal to the minimum charge amount allowed for your account and the currency set (https://docs.stripe.com/currencies#minimum-and-maximum-charge-amounts).  If you want to save a Payment Method for future use without an immediate payment, use a Setup Intent instead: https://docs.stripe.com/payments/setup-intents","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: The amount must be greater than or equal to the minimum charge amount allowed for your account and the currency set (https://docs.stripe.com/currencies#minimum-and-maximum-charge-amounts).  If you want to save a Payment Method for future use without an immediate payment, use a Setup Intent instead: https://docs.stripe.com/payments/setup-intents"}}
[info] >      at generateV1Error (C:\Users\allan\Desktop\Projetos VSCODE\Full-stack\amazon-clone-app\functions\node_modules\stripe\cjs\Error.js:11:20) {"user":"    at generateV1Error (C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\stripe\\cjs\\Error.js:11:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at generateV1Error (C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\stripe\\cjs\\Error.js:11:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (C:\Users\allan\Desktop\Projetos VSCODE\Full-stack\amazon-clone-app\functions\node_modules\stripe\cjs\RequestSender.js:108:62) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:108:62)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:108:62)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[debug] [2025-08-01T05:06:42.208Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1226.9777ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1226.9777ms"}}
[debug] [2025-08-01T05:06:42.209Z] [worker-us-central1-api-f91db49b-870e-4719-b231-437b53771ce9]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f91db49b-870e-4719-b231-437b53771ce9]: IDLE"}}
[debug] [2025-08-01T05:06:42.209Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-08-01T05:06:42.210Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-08-01T05:06:42.210Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  Error: The amount must be greater than or equal to the minimum charge amount allowed for your account and the currency set (https://docs.stripe.com/currencies#minimum-and-maximum-charge-amounts).  If you want to save a Payment Method for future use without an immediate payment, use a Setup Intent instead: https://docs.stripe.com/payments/setup-intents {"user":"Error: The amount must be greater than or equal to the minimum charge amount allowed for your account and the currency set (https://docs.stripe.com/currencies#minimum-and-maximum-charge-amounts).  If you want to save a Payment Method for future use without an immediate payment, use a Setup Intent instead: https://docs.stripe.com/payments/setup-intents","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: The amount must be greater than or equal to the minimum charge amount allowed for your account and the currency set (https://docs.stripe.com/currencies#minimum-and-maximum-charge-amounts).  If you want to save a Payment Method for future use without an immediate payment, use a Setup Intent instead: https://docs.stripe.com/payments/setup-intents"}}
[info] >      at generateV1Error (C:\Users\allan\Desktop\Projetos VSCODE\Full-stack\amazon-clone-app\functions\node_modules\stripe\cjs\Error.js:11:20) {"user":"    at generateV1Error (C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\stripe\\cjs\\Error.js:11:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at generateV1Error (C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\stripe\\cjs\\Error.js:11:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (C:\Users\allan\Desktop\Projetos VSCODE\Full-stack\amazon-clone-app\functions\node_modules\stripe\cjs\RequestSender.js:108:62) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:108:62)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:108:62)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[debug] [2025-08-01T05:11:18.928Z] [work-queue] {"queuedWork":["/clone-a3fa0/us-central1/api//payments/create-2025-08-01T05:11:18.923Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-08-01T05:11:18.936Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-a3fa0/us-central1/api//payments/create-2025-08-01T05:11:18.923Z"],"workRunningCount":1}
[debug] [2025-08-01T05:11:18.937Z] Accepted request GET /clone-a3fa0/us-central1/api//payments/create --> us-central1-api
[debug] [2025-08-01T05:11:19.034Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-08-01T05:11:19.038Z] [functions] Got req.url=/clone-a3fa0/us-central1/api//payments/create, mapping to path=//payments/create {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a3fa0/us-central1/api//payments/create, mapping to path=//payments/create"}}
[debug] [2025-08-01T05:11:19.039Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-08-01T05:11:19.051Z] [worker-us-central1-api-d1ee5f8b-02c4-4522-a1d2-835d682a126f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-d1ee5f8b-02c4-4522-a1d2-835d682a126f]: BUSY"}}
[debug] [2025-08-01T05:11:19.157Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 106.4471ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 106.4471ms"}}
[debug] [2025-08-01T05:11:19.159Z] [worker-us-central1-api-d1ee5f8b-02c4-4522-a1d2-835d682a126f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-d1ee5f8b-02c4-4522-a1d2-835d682a126f]: IDLE"}}
[debug] [2025-08-01T05:11:19.159Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-08-01T05:11:19.160Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-08-01T05:11:19.160Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-08-01T05:11:25.126Z] [work-queue] {"queuedWork":["/clone-a3fa0/us-central1/api/payments/create-2025-08-01T05:11:25.126Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-08-01T05:11:25.126Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-a3fa0/us-central1/api/payments/create-2025-08-01T05:11:25.126Z"],"workRunningCount":1}
[debug] [2025-08-01T05:11:25.126Z] Accepted request GET /clone-a3fa0/us-central1/api/payments/create --> us-central1-api
[debug] [2025-08-01T05:11:25.132Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-08-01T05:11:25.133Z] [functions] Got req.url=/clone-a3fa0/us-central1/api/payments/create, mapping to path=/payments/create {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a3fa0/us-central1/api/payments/create, mapping to path=/payments/create"}}
[debug] [2025-08-01T05:11:25.133Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-08-01T05:11:25.135Z] [worker-us-central1-api-d1ee5f8b-02c4-4522-a1d2-835d682a126f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-d1ee5f8b-02c4-4522-a1d2-835d682a126f]: BUSY"}}
[debug] [2025-08-01T05:11:25.143Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 8.8641ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 8.8641ms"}}
[debug] [2025-08-01T05:11:25.145Z] [worker-us-central1-api-d1ee5f8b-02c4-4522-a1d2-835d682a126f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-d1ee5f8b-02c4-4522-a1d2-835d682a126f]: IDLE"}}
[debug] [2025-08-01T05:11:25.145Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-08-01T05:11:25.146Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-08-01T05:11:25.146Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-08-01T05:11:43.357Z] File C:\Users\allan\Desktop\Projetos VSCODE\Full-stack\amazon-clone-app\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\index.js changed, reloading triggers"}}
[debug] [2025-08-01T05:11:44.376Z] Validating nodejs source
[debug] [2025-08-01T05:11:46.718Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-01T05:11:46.718Z] Building nodejs source
[debug] [2025-08-01T05:11:46.719Z] Failed to find version of module node: reached end of search path C:\Users\allan\Desktop\Projetos VSCODE\Full-stack\amazon-clone-app\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[debug] [2025-08-01T05:11:46.723Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-01T05:11:46.746Z] Found firebase-functions binary at 'C:\Users\allan\Desktop\Projetos VSCODE\Full-stack\amazon-clone-app\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8262

[debug] [2025-08-01T05:11:48.306Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-08-01T05:11:53.371Z] defaultcredentials: writing to file C:\Users\allan\AppData\Roaming\firebase\allanshinhamabelo_gmail_com_application_default_credentials.json
[debug] [2025-08-01T05:11:53.373Z] Setting GAC to C:\Users\allan\AppData\Roaming\firebase\allanshinhamabelo_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\allan\\AppData\\Roaming\\firebase\\allanshinhamabelo_gmail_com_application_default_credentials.json"}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2025-08-01T05:11:53.382Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2025-08-01T05:11:53.382Z] [worker-us-central1-api-d1ee5f8b-02c4-4522-a1d2-835d682a126f]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-d1ee5f8b-02c4-4522-a1d2-835d682a126f]: FINISHING"}}
[debug] [2025-08-01T05:11:53.383Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2025-08-01T05:11:53.383Z] [worker-us-central1-api-f91db49b-870e-4719-b231-437b53771ce9]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f91db49b-870e-4719-b231-437b53771ce9]: FINISHING"}}
[debug] [2025-08-01T05:11:53.400Z] [worker-us-central1-api-f91db49b-870e-4719-b231-437b53771ce9]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f91db49b-870e-4719-b231-437b53771ce9]: exited"}}
[debug] [2025-08-01T05:11:53.400Z] [worker-us-central1-api-f91db49b-870e-4719-b231-437b53771ce9]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f91db49b-870e-4719-b231-437b53771ce9]: FINISHED"}}
[debug] [2025-08-01T05:11:53.400Z] [worker-us-central1-api-d1ee5f8b-02c4-4522-a1d2-835d682a126f]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-d1ee5f8b-02c4-4522-a1d2-835d682a126f]: exited"}}
[debug] [2025-08-01T05:11:53.400Z] [worker-us-central1-api-d1ee5f8b-02c4-4522-a1d2-835d682a126f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-d1ee5f8b-02c4-4522-a1d2-835d682a126f]: FINISHED"}}
[debug] [2025-08-01T05:17:10.183Z] [work-queue] {"queuedWork":["/clone-a3fa0/us-central1/api/payments/create-2025-08-01T05:17:10.180Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-08-01T05:17:10.188Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-a3fa0/us-central1/api/payments/create-2025-08-01T05:17:10.180Z"],"workRunningCount":1}
[debug] [2025-08-01T05:17:10.189Z] Accepted request POST /clone-a3fa0/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2025-08-01T05:17:10.285Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-08-01T05:17:10.286Z] [functions] Got req.url=/clone-a3fa0/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a3fa0/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2025-08-01T05:17:10.286Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2025-08-01T05:17:10.333Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2025-08-01T05:17:10.335Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2025-08-01T05:17:13.245Z] [runtime-status] [7936] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7936] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Users\\\\allan\\\\Desktop\\\\Projetos VSCODE\\\\Full-stack\\\\amazon-clone-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-08-01T05:17:13.247Z] [runtime-status] [7936] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.4.0","resolution":"C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7936] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"C:\\\\Users\\\\allan\\\\Desktop\\\\Projetos VSCODE\\\\Full-stack\\\\amazon-clone-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-08-01T05:17:13.248Z] [runtime-status] [7936] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7936] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-08-01T05:17:13.249Z] [runtime-status] [7936] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.4.0","resolution":"C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7936] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"C:\\\\Users\\\\allan\\\\Desktop\\\\Projetos VSCODE\\\\Full-stack\\\\amazon-clone-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-08-01T05:17:14.003Z] [runtime-status] [7936] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7936] Checked functions.config() {\"config\":{}}"}}
[debug] [2025-08-01T05:17:14.004Z] [runtime-status] [7936] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.4.0","resolution":"C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7936] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"C:\\\\Users\\\\allan\\\\Desktop\\\\Projetos VSCODE\\\\Full-stack\\\\amazon-clone-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}}"}}
[debug] [2025-08-01T05:17:14.004Z] [runtime-status] [7936] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.4.0","resolution":"C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7936] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"C:\\\\Users\\\\allan\\\\Desktop\\\\Projetos VSCODE\\\\Full-stack\\\\amazon-clone-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-08-01T05:17:14.012Z] [runtime-status] [7936] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7936] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Users\\\\allan\\\\Desktop\\\\Projetos VSCODE\\\\Full-stack\\\\amazon-clone-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-08-01T05:17:14.018Z] [runtime-status] [7936] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.4.0","resolution":"C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7936] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"C:\\\\Users\\\\allan\\\\Desktop\\\\Projetos VSCODE\\\\Full-stack\\\\amazon-clone-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-08-01T05:17:14.019Z] [runtime-status] [7936] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7936] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Users\\\\allan\\\\Desktop\\\\Projetos VSCODE\\\\Full-stack\\\\amazon-clone-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2025-08-01T05:17:14.513Z] [runtime-status] [7936] Functions runtime initialized. {"cwd":"C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions","node_version":"20.17.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7936] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\allan\\\\Desktop\\\\Projetos VSCODE\\\\Full-stack\\\\amazon-clone-app\\\\functions\",\"node_version\":\"20.17.0\"}"}}
[debug] [2025-08-01T05:17:14.515Z] [runtime-status] [7936] Listening to port: \\?\pipe\fire_emu_dd9b085b3501311b {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7936] Listening to port: \\\\?\\pipe\\fire_emu_dd9b085b3501311b"}}
[debug] [2025-08-01T05:17:14.615Z] [worker-us-central1-api-bef7edb1-349f-4e50-8290-39fd1e491136]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bef7edb1-349f-4e50-8290-39fd1e491136]: IDLE"}}
[debug] [2025-08-01T05:17:14.615Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-08-01T05:17:14.618Z] [worker-us-central1-api-bef7edb1-349f-4e50-8290-39fd1e491136]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bef7edb1-349f-4e50-8290-39fd1e491136]: BUSY"}}
[info] >  Payment Request Received. For this amount >>>  0 {"user":"Payment Request Received. For this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received. For this amount >>>  0"}}
[debug] [2025-08-01T05:17:15.762Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1145.0187ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1145.0187ms"}}
[debug] [2025-08-01T05:17:15.764Z] [worker-us-central1-api-bef7edb1-349f-4e50-8290-39fd1e491136]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bef7edb1-349f-4e50-8290-39fd1e491136]: IDLE"}}
[debug] [2025-08-01T05:17:15.765Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-08-01T05:17:15.765Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-08-01T05:17:15.765Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  Error: The amount must be greater than or equal to the minimum charge amount allowed for your account and the currency set (https://docs.stripe.com/currencies#minimum-and-maximum-charge-amounts).  If you want to save a Payment Method for future use without an immediate payment, use a Setup Intent instead: https://docs.stripe.com/payments/setup-intents {"user":"Error: The amount must be greater than or equal to the minimum charge amount allowed for your account and the currency set (https://docs.stripe.com/currencies#minimum-and-maximum-charge-amounts).  If you want to save a Payment Method for future use without an immediate payment, use a Setup Intent instead: https://docs.stripe.com/payments/setup-intents","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: The amount must be greater than or equal to the minimum charge amount allowed for your account and the currency set (https://docs.stripe.com/currencies#minimum-and-maximum-charge-amounts).  If you want to save a Payment Method for future use without an immediate payment, use a Setup Intent instead: https://docs.stripe.com/payments/setup-intents"}}
[info] >      at generateV1Error (C:\Users\allan\Desktop\Projetos VSCODE\Full-stack\amazon-clone-app\functions\node_modules\stripe\cjs\Error.js:11:20) {"user":"    at generateV1Error (C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\stripe\\cjs\\Error.js:11:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at generateV1Error (C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\stripe\\cjs\\Error.js:11:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (C:\Users\allan\Desktop\Projetos VSCODE\Full-stack\amazon-clone-app\functions\node_modules\stripe\cjs\RequestSender.js:108:62) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:108:62)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:108:62)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[debug] [2025-08-01T05:21:01.988Z] [work-queue] {"queuedWork":["/clone-a3fa0/us-central1/api/payments/create-2025-08-01T05:21:01.987Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-08-01T05:21:01.991Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-a3fa0/us-central1/api/payments/create-2025-08-01T05:21:01.987Z"],"workRunningCount":1}
[debug] [2025-08-01T05:21:01.991Z] Accepted request POST /clone-a3fa0/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2025-08-01T05:21:02.000Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-08-01T05:21:02.000Z] [functions] Got req.url=/clone-a3fa0/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a3fa0/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2025-08-01T05:21:02.001Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-08-01T05:21:02.002Z] [worker-us-central1-api-bef7edb1-349f-4e50-8290-39fd1e491136]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bef7edb1-349f-4e50-8290-39fd1e491136]: BUSY"}}
[info] >  Payment Request Received. For this amount >>>  0 {"user":"Payment Request Received. For this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received. For this amount >>>  0"}}
[debug] [2025-08-01T05:21:02.751Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 749.9249ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 749.9249ms"}}
[debug] [2025-08-01T05:21:02.754Z] [worker-us-central1-api-bef7edb1-349f-4e50-8290-39fd1e491136]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bef7edb1-349f-4e50-8290-39fd1e491136]: IDLE"}}
[debug] [2025-08-01T05:21:02.755Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-08-01T05:21:02.755Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-08-01T05:21:02.755Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  Error: The amount must be greater than or equal to the minimum charge amount allowed for your account and the currency set (https://docs.stripe.com/currencies#minimum-and-maximum-charge-amounts).  If you want to save a Payment Method for future use without an immediate payment, use a Setup Intent instead: https://docs.stripe.com/payments/setup-intents {"user":"Error: The amount must be greater than or equal to the minimum charge amount allowed for your account and the currency set (https://docs.stripe.com/currencies#minimum-and-maximum-charge-amounts).  If you want to save a Payment Method for future use without an immediate payment, use a Setup Intent instead: https://docs.stripe.com/payments/setup-intents","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: The amount must be greater than or equal to the minimum charge amount allowed for your account and the currency set (https://docs.stripe.com/currencies#minimum-and-maximum-charge-amounts).  If you want to save a Payment Method for future use without an immediate payment, use a Setup Intent instead: https://docs.stripe.com/payments/setup-intents"}}
[info] >      at generateV1Error (C:\Users\allan\Desktop\Projetos VSCODE\Full-stack\amazon-clone-app\functions\node_modules\stripe\cjs\Error.js:11:20) {"user":"    at generateV1Error (C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\stripe\\cjs\\Error.js:11:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at generateV1Error (C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\stripe\\cjs\\Error.js:11:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (C:\Users\allan\Desktop\Projetos VSCODE\Full-stack\amazon-clone-app\functions\node_modules\stripe\cjs\RequestSender.js:108:62) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:108:62)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:108:62)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[debug] [2025-08-01T05:21:06.168Z] [work-queue] {"queuedWork":["/clone-a3fa0/us-central1/api/payments/create-2025-08-01T05:21:06.168Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-08-01T05:21:06.169Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-a3fa0/us-central1/api/payments/create-2025-08-01T05:21:06.168Z"],"workRunningCount":1}
[debug] [2025-08-01T05:21:06.169Z] Accepted request POST /clone-a3fa0/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2025-08-01T05:21:06.171Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-08-01T05:21:06.171Z] [functions] Got req.url=/clone-a3fa0/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a3fa0/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2025-08-01T05:21:06.171Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-08-01T05:21:06.172Z] [worker-us-central1-api-bef7edb1-349f-4e50-8290-39fd1e491136]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bef7edb1-349f-4e50-8290-39fd1e491136]: BUSY"}}
[debug] [2025-08-01T05:21:06.175Z] [work-queue] {"queuedWork":["/clone-a3fa0/us-central1/api/payments/create-2025-08-01T05:21:06.175Z"],"queueLength":1,"runningWork":["/clone-a3fa0/us-central1/api/payments/create-2025-08-01T05:21:06.168Z"],"workRunningCount":1}
[debug] [2025-08-01T05:21:06.176Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-a3fa0/us-central1/api/payments/create-2025-08-01T05:21:06.168Z","/clone-a3fa0/us-central1/api/payments/create-2025-08-01T05:21:06.175Z"],"workRunningCount":2}
[debug] [2025-08-01T05:21:06.186Z] Accepted request POST /clone-a3fa0/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2025-08-01T05:21:06.193Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-08-01T05:21:06.193Z] [functions] Got req.url=/clone-a3fa0/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a3fa0/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2025-08-01T05:21:06.223Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2025-08-01T05:21:06.225Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[info] >  Payment Request Received. For this amount >>>  0 {"user":"Payment Request Received. For this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received. For this amount >>>  0"}}
[debug] [2025-08-01T05:21:06.399Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 228.9605ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 228.9605ms"}}
[debug] [2025-08-01T05:21:06.407Z] [worker-us-central1-api-bef7edb1-349f-4e50-8290-39fd1e491136]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bef7edb1-349f-4e50-8290-39fd1e491136]: IDLE"}}
[debug] [2025-08-01T05:21:06.407Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-08-01T05:21:06.408Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-08-01T05:21:06.408Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-a3fa0/us-central1/api/payments/create-2025-08-01T05:21:06.175Z"],"workRunningCount":1}
[info] >  Error: The amount must be greater than or equal to the minimum charge amount allowed for your account and the currency set (https://docs.stripe.com/currencies#minimum-and-maximum-charge-amounts).  If you want to save a Payment Method for future use without an immediate payment, use a Setup Intent instead: https://docs.stripe.com/payments/setup-intents {"user":"Error: The amount must be greater than or equal to the minimum charge amount allowed for your account and the currency set (https://docs.stripe.com/currencies#minimum-and-maximum-charge-amounts).  If you want to save a Payment Method for future use without an immediate payment, use a Setup Intent instead: https://docs.stripe.com/payments/setup-intents","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: The amount must be greater than or equal to the minimum charge amount allowed for your account and the currency set (https://docs.stripe.com/currencies#minimum-and-maximum-charge-amounts).  If you want to save a Payment Method for future use without an immediate payment, use a Setup Intent instead: https://docs.stripe.com/payments/setup-intents"}}
[info] >      at generateV1Error (C:\Users\allan\Desktop\Projetos VSCODE\Full-stack\amazon-clone-app\functions\node_modules\stripe\cjs\Error.js:11:20) {"user":"    at generateV1Error (C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\stripe\\cjs\\Error.js:11:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at generateV1Error (C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\stripe\\cjs\\Error.js:11:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (C:\Users\allan\Desktop\Projetos VSCODE\Full-stack\amazon-clone-app\functions\node_modules\stripe\cjs\RequestSender.js:108:62) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:108:62)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:108:62)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[debug] [2025-08-01T05:21:09.035Z] [runtime-status] [25356] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [25356] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Users\\\\allan\\\\Desktop\\\\Projetos VSCODE\\\\Full-stack\\\\amazon-clone-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-08-01T05:21:09.038Z] [runtime-status] [25356] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.4.0","resolution":"C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [25356] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"C:\\\\Users\\\\allan\\\\Desktop\\\\Projetos VSCODE\\\\Full-stack\\\\amazon-clone-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-08-01T05:21:09.039Z] [runtime-status] [25356] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [25356] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2025-08-01T05:21:09.041Z] [runtime-status] [25356] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.4.0","resolution":"C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [25356] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"C:\\\\Users\\\\allan\\\\Desktop\\\\Projetos VSCODE\\\\Full-stack\\\\amazon-clone-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-08-01T05:21:09.839Z] [runtime-status] [25356] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [25356] Checked functions.config() {\"config\":{}}"}}
[debug] [2025-08-01T05:21:09.840Z] [runtime-status] [25356] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.4.0","resolution":"C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [25356] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"C:\\\\Users\\\\allan\\\\Desktop\\\\Projetos VSCODE\\\\Full-stack\\\\amazon-clone-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}}"}}
[debug] [2025-08-01T05:21:09.840Z] [runtime-status] [25356] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.4.0","resolution":"C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [25356] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"C:\\\\Users\\\\allan\\\\Desktop\\\\Projetos VSCODE\\\\Full-stack\\\\amazon-clone-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-08-01T05:21:09.848Z] [runtime-status] [25356] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [25356] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Users\\\\allan\\\\Desktop\\\\Projetos VSCODE\\\\Full-stack\\\\amazon-clone-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2025-08-01T05:21:09.853Z] [runtime-status] [25356] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.4.0","resolution":"C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [25356] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"6.4.0\",\"resolution\":\"C:\\\\Users\\\\allan\\\\Desktop\\\\Projetos VSCODE\\\\Full-stack\\\\amazon-clone-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v2\\\\index.js\"}"}}
[debug] [2025-08-01T05:21:09.853Z] [runtime-status] [25356] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [25356] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.7.0\",\"resolution\":\"C:\\\\Users\\\\allan\\\\Desktop\\\\Projetos VSCODE\\\\Full-stack\\\\amazon-clone-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2025-08-01T05:21:10.321Z] [runtime-status] [25356] Functions runtime initialized. {"cwd":"C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions","node_version":"20.17.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [25356] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\allan\\\\Desktop\\\\Projetos VSCODE\\\\Full-stack\\\\amazon-clone-app\\\\functions\",\"node_version\":\"20.17.0\"}"}}
[debug] [2025-08-01T05:21:10.322Z] [runtime-status] [25356] Listening to port: \\?\pipe\fire_emu_a384220c2e0c3698 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [25356] Listening to port: \\\\?\\pipe\\fire_emu_a384220c2e0c3698"}}
[debug] [2025-08-01T05:21:10.443Z] [worker-us-central1-api-fc536e4a-1614-4f05-a7f3-1b44afe1d0eb]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-fc536e4a-1614-4f05-a7f3-1b44afe1d0eb]: IDLE"}}
[debug] [2025-08-01T05:21:10.444Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-08-01T05:21:10.447Z] [worker-us-central1-api-bef7edb1-349f-4e50-8290-39fd1e491136]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bef7edb1-349f-4e50-8290-39fd1e491136]: BUSY"}}
[info] >  Payment Request Received. For this amount >>>  0 {"user":"Payment Request Received. For this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received. For this amount >>>  0"}}
[debug] [2025-08-01T05:21:10.672Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 225.7836ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 225.7836ms"}}
[debug] [2025-08-01T05:21:10.673Z] [worker-us-central1-api-bef7edb1-349f-4e50-8290-39fd1e491136]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bef7edb1-349f-4e50-8290-39fd1e491136]: IDLE"}}
[debug] [2025-08-01T05:21:10.674Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-08-01T05:21:10.674Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-08-01T05:21:10.674Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  Error: The amount must be greater than or equal to the minimum charge amount allowed for your account and the currency set (https://docs.stripe.com/currencies#minimum-and-maximum-charge-amounts).  If you want to save a Payment Method for future use without an immediate payment, use a Setup Intent instead: https://docs.stripe.com/payments/setup-intents {"user":"Error: The amount must be greater than or equal to the minimum charge amount allowed for your account and the currency set (https://docs.stripe.com/currencies#minimum-and-maximum-charge-amounts).  If you want to save a Payment Method for future use without an immediate payment, use a Setup Intent instead: https://docs.stripe.com/payments/setup-intents","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: The amount must be greater than or equal to the minimum charge amount allowed for your account and the currency set (https://docs.stripe.com/currencies#minimum-and-maximum-charge-amounts).  If you want to save a Payment Method for future use without an immediate payment, use a Setup Intent instead: https://docs.stripe.com/payments/setup-intents"}}
[info] >      at generateV1Error (C:\Users\allan\Desktop\Projetos VSCODE\Full-stack\amazon-clone-app\functions\node_modules\stripe\cjs\Error.js:11:20) {"user":"    at generateV1Error (C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\stripe\\cjs\\Error.js:11:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at generateV1Error (C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\stripe\\cjs\\Error.js:11:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (C:\Users\allan\Desktop\Projetos VSCODE\Full-stack\amazon-clone-app\functions\node_modules\stripe\cjs\RequestSender.js:108:62) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:108:62)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:108:62)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[debug] [2025-08-01T05:23:47.812Z] [work-queue] {"queuedWork":["/clone-a3fa0/us-central1/api/payments/create-2025-08-01T05:23:47.812Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-08-01T05:23:47.813Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-a3fa0/us-central1/api/payments/create-2025-08-01T05:23:47.812Z"],"workRunningCount":1}
[debug] [2025-08-01T05:23:47.813Z] Accepted request POST /clone-a3fa0/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2025-08-01T05:23:47.821Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-08-01T05:23:47.822Z] [functions] Got req.url=/clone-a3fa0/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a3fa0/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2025-08-01T05:23:47.823Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-08-01T05:23:47.824Z] [worker-us-central1-api-bef7edb1-349f-4e50-8290-39fd1e491136]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bef7edb1-349f-4e50-8290-39fd1e491136]: BUSY"}}
[info] >  Payment Request Received. For this amount >>>  0 {"user":"Payment Request Received. For this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received. For this amount >>>  0"}}
[debug] [2025-08-01T05:23:48.643Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 819.4499ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 819.4499ms"}}
[debug] [2025-08-01T05:23:48.644Z] [worker-us-central1-api-bef7edb1-349f-4e50-8290-39fd1e491136]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bef7edb1-349f-4e50-8290-39fd1e491136]: IDLE"}}
[debug] [2025-08-01T05:23:48.644Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-08-01T05:23:48.644Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-08-01T05:23:48.644Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  Error: The amount must be greater than or equal to the minimum charge amount allowed for your account and the currency set (https://docs.stripe.com/currencies#minimum-and-maximum-charge-amounts).  If you want to save a Payment Method for future use without an immediate payment, use a Setup Intent instead: https://docs.stripe.com/payments/setup-intents {"user":"Error: The amount must be greater than or equal to the minimum charge amount allowed for your account and the currency set (https://docs.stripe.com/currencies#minimum-and-maximum-charge-amounts).  If you want to save a Payment Method for future use without an immediate payment, use a Setup Intent instead: https://docs.stripe.com/payments/setup-intents","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: The amount must be greater than or equal to the minimum charge amount allowed for your account and the currency set (https://docs.stripe.com/currencies#minimum-and-maximum-charge-amounts).  If you want to save a Payment Method for future use without an immediate payment, use a Setup Intent instead: https://docs.stripe.com/payments/setup-intents"}}
[info] >      at generateV1Error (C:\Users\allan\Desktop\Projetos VSCODE\Full-stack\amazon-clone-app\functions\node_modules\stripe\cjs\Error.js:11:20) {"user":"    at generateV1Error (C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\stripe\\cjs\\Error.js:11:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at generateV1Error (C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\stripe\\cjs\\Error.js:11:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (C:\Users\allan\Desktop\Projetos VSCODE\Full-stack\amazon-clone-app\functions\node_modules\stripe\cjs\RequestSender.js:108:62) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:108:62)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:108:62)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[debug] [2025-08-01T05:24:10.755Z] [work-queue] {"queuedWork":["/clone-a3fa0/us-central1/api/payments/create-2025-08-01T05:24:10.755Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-08-01T05:24:10.755Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-a3fa0/us-central1/api/payments/create-2025-08-01T05:24:10.755Z"],"workRunningCount":1}
[debug] [2025-08-01T05:24:10.755Z] Accepted request POST /clone-a3fa0/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2025-08-01T05:24:10.760Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-08-01T05:24:10.760Z] [functions] Got req.url=/clone-a3fa0/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a3fa0/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2025-08-01T05:24:10.761Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-08-01T05:24:10.762Z] [worker-us-central1-api-bef7edb1-349f-4e50-8290-39fd1e491136]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bef7edb1-349f-4e50-8290-39fd1e491136]: BUSY"}}
[debug] [2025-08-01T05:24:10.766Z] [work-queue] {"queuedWork":["/clone-a3fa0/us-central1/api/payments/create-2025-08-01T05:24:10.766Z"],"queueLength":1,"runningWork":["/clone-a3fa0/us-central1/api/payments/create-2025-08-01T05:24:10.755Z"],"workRunningCount":1}
[debug] [2025-08-01T05:24:10.766Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-a3fa0/us-central1/api/payments/create-2025-08-01T05:24:10.755Z","/clone-a3fa0/us-central1/api/payments/create-2025-08-01T05:24:10.766Z"],"workRunningCount":2}
[debug] [2025-08-01T05:24:10.766Z] Accepted request POST /clone-a3fa0/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2025-08-01T05:24:10.775Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-08-01T05:24:10.775Z] [functions] Got req.url=/clone-a3fa0/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a3fa0/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2025-08-01T05:24:10.775Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-08-01T05:24:10.776Z] [worker-us-central1-api-fc536e4a-1614-4f05-a7f3-1b44afe1d0eb]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-fc536e4a-1614-4f05-a7f3-1b44afe1d0eb]: BUSY"}}
[info] >  Payment Request Received. For this amount >>>  0 {"user":"Payment Request Received. For this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received. For this amount >>>  0"}}
[info] >  Payment Request Received. For this amount >>>  0 {"user":"Payment Request Received. For this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received. For this amount >>>  0"}}
[debug] [2025-08-01T05:24:10.987Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 225.9262ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 225.9262ms"}}
[debug] [2025-08-01T05:24:10.989Z] [worker-us-central1-api-bef7edb1-349f-4e50-8290-39fd1e491136]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bef7edb1-349f-4e50-8290-39fd1e491136]: IDLE"}}
[debug] [2025-08-01T05:24:10.989Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-08-01T05:24:10.990Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-08-01T05:24:10.990Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-a3fa0/us-central1/api/payments/create-2025-08-01T05:24:10.766Z"],"workRunningCount":1}
[info] >  Error: The amount must be greater than or equal to the minimum charge amount allowed for your account and the currency set (https://docs.stripe.com/currencies#minimum-and-maximum-charge-amounts).  If you want to save a Payment Method for future use without an immediate payment, use a Setup Intent instead: https://docs.stripe.com/payments/setup-intents {"user":"Error: The amount must be greater than or equal to the minimum charge amount allowed for your account and the currency set (https://docs.stripe.com/currencies#minimum-and-maximum-charge-amounts).  If you want to save a Payment Method for future use without an immediate payment, use a Setup Intent instead: https://docs.stripe.com/payments/setup-intents","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: The amount must be greater than or equal to the minimum charge amount allowed for your account and the currency set (https://docs.stripe.com/currencies#minimum-and-maximum-charge-amounts).  If you want to save a Payment Method for future use without an immediate payment, use a Setup Intent instead: https://docs.stripe.com/payments/setup-intents"}}
[info] >      at generateV1Error (C:\Users\allan\Desktop\Projetos VSCODE\Full-stack\amazon-clone-app\functions\node_modules\stripe\cjs\Error.js:11:20) {"user":"    at generateV1Error (C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\stripe\\cjs\\Error.js:11:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at generateV1Error (C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\stripe\\cjs\\Error.js:11:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (C:\Users\allan\Desktop\Projetos VSCODE\Full-stack\amazon-clone-app\functions\node_modules\stripe\cjs\RequestSender.js:108:62) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:108:62)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:108:62)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[debug] [2025-08-01T05:24:11.861Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1085.3559ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1085.3559ms"}}
[debug] [2025-08-01T05:24:11.862Z] [worker-us-central1-api-fc536e4a-1614-4f05-a7f3-1b44afe1d0eb]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-fc536e4a-1614-4f05-a7f3-1b44afe1d0eb]: IDLE"}}
[debug] [2025-08-01T05:24:11.862Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-08-01T05:24:11.862Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-08-01T05:24:11.862Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  Error: The amount must be greater than or equal to the minimum charge amount allowed for your account and the currency set (https://docs.stripe.com/currencies#minimum-and-maximum-charge-amounts).  If you want to save a Payment Method for future use without an immediate payment, use a Setup Intent instead: https://docs.stripe.com/payments/setup-intents {"user":"Error: The amount must be greater than or equal to the minimum charge amount allowed for your account and the currency set (https://docs.stripe.com/currencies#minimum-and-maximum-charge-amounts).  If you want to save a Payment Method for future use without an immediate payment, use a Setup Intent instead: https://docs.stripe.com/payments/setup-intents","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: The amount must be greater than or equal to the minimum charge amount allowed for your account and the currency set (https://docs.stripe.com/currencies#minimum-and-maximum-charge-amounts).  If you want to save a Payment Method for future use without an immediate payment, use a Setup Intent instead: https://docs.stripe.com/payments/setup-intents"}}
[info] >      at generateV1Error (C:\Users\allan\Desktop\Projetos VSCODE\Full-stack\amazon-clone-app\functions\node_modules\stripe\cjs\Error.js:11:20) {"user":"    at generateV1Error (C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\stripe\\cjs\\Error.js:11:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at generateV1Error (C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\stripe\\cjs\\Error.js:11:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (C:\Users\allan\Desktop\Projetos VSCODE\Full-stack\amazon-clone-app\functions\node_modules\stripe\cjs\RequestSender.js:108:62) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:108:62)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:108:62)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[debug] [2025-08-01T05:27:02.632Z] [work-queue] {"queuedWork":["/clone-a3fa0/us-central1/api/payments/create-2025-08-01T05:27:02.631Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-08-01T05:27:02.637Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-a3fa0/us-central1/api/payments/create-2025-08-01T05:27:02.631Z"],"workRunningCount":1}
[debug] [2025-08-01T05:27:02.638Z] Accepted request POST /clone-a3fa0/us-central1/api/payments/create?total=141997 --> us-central1-api
[debug] [2025-08-01T05:27:02.670Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-08-01T05:27:02.671Z] [functions] Got req.url=/clone-a3fa0/us-central1/api/payments/create?total=141997, mapping to path=/payments/create?total=141997 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a3fa0/us-central1/api/payments/create?total=141997, mapping to path=/payments/create?total=141997"}}
[debug] [2025-08-01T05:27:02.674Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-08-01T05:27:02.676Z] [worker-us-central1-api-bef7edb1-349f-4e50-8290-39fd1e491136]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bef7edb1-349f-4e50-8290-39fd1e491136]: BUSY"}}
[debug] [2025-08-01T05:27:02.687Z] [work-queue] {"queuedWork":["/clone-a3fa0/us-central1/api/payments/create-2025-08-01T05:27:02.687Z"],"queueLength":1,"runningWork":["/clone-a3fa0/us-central1/api/payments/create-2025-08-01T05:27:02.631Z"],"workRunningCount":1}
[debug] [2025-08-01T05:27:02.687Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-a3fa0/us-central1/api/payments/create-2025-08-01T05:27:02.631Z","/clone-a3fa0/us-central1/api/payments/create-2025-08-01T05:27:02.687Z"],"workRunningCount":2}
[debug] [2025-08-01T05:27:02.687Z] Accepted request POST /clone-a3fa0/us-central1/api/payments/create?total=141997 --> us-central1-api
[debug] [2025-08-01T05:27:02.692Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2025-08-01T05:27:02.693Z] [functions] Got req.url=/clone-a3fa0/us-central1/api/payments/create?total=141997, mapping to path=/payments/create?total=141997 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-a3fa0/us-central1/api/payments/create?total=141997, mapping to path=/payments/create?total=141997"}}
[debug] [2025-08-01T05:27:02.693Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2025-08-01T05:27:02.698Z] [worker-us-central1-api-fc536e4a-1614-4f05-a7f3-1b44afe1d0eb]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-fc536e4a-1614-4f05-a7f3-1b44afe1d0eb]: BUSY"}}
[info] >  Payment Request Received. For this amount >>>  141997 {"user":"Payment Request Received. For this amount >>>  141997","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received. For this amount >>>  141997"}}
[info] >  Payment Request Received. For this amount >>>  141997 {"user":"Payment Request Received. For this amount >>>  141997","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Received. For this amount >>>  141997"}}
[debug] [2025-08-01T05:27:03.543Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 846.0475ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 846.0475ms"}}
[debug] [2025-08-01T05:27:03.545Z] [worker-us-central1-api-fc536e4a-1614-4f05-a7f3-1b44afe1d0eb]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-fc536e4a-1614-4f05-a7f3-1b44afe1d0eb]: IDLE"}}
[debug] [2025-08-01T05:27:03.545Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-08-01T05:27:03.546Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-08-01T05:27:03.546Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-a3fa0/us-central1/api/payments/create-2025-08-01T05:27:02.631Z"],"workRunningCount":1}
[debug] [2025-08-01T05:27:03.628Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 952.146ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 952.146ms"}}
[debug] [2025-08-01T05:27:03.629Z] [worker-us-central1-api-bef7edb1-349f-4e50-8290-39fd1e491136]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bef7edb1-349f-4e50-8290-39fd1e491136]: IDLE"}}
[debug] [2025-08-01T05:27:03.629Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2025-08-01T05:27:03.629Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2025-08-01T05:27:03.629Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-08-01T05:59:45.654Z] File C:\Users\allan\Desktop\Projetos VSCODE\Full-stack\amazon-clone-app\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\allan\\Desktop\\Projetos VSCODE\\Full-stack\\amazon-clone-app\\functions\\index.js changed, reloading triggers"}}
[debug] [2025-08-01T05:59:46.738Z] Validating nodejs source
[debug] [2025-08-01T05:59:49.640Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^5.1.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1",
    "stripe": "^18.4.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-08-01T05:59:49.642Z] Building nodejs source
[debug] [2025-08-01T05:59:49.643Z] Failed to find version of module node: reached end of search path C:\Users\allan\Desktop\Projetos VSCODE\Full-stack\amazon-clone-app\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[debug] [2025-08-01T05:59:49.666Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-01T05:59:49.686Z] Found firebase-functions binary at 'C:\Users\allan\Desktop\Projetos VSCODE\Full-stack\amazon-clone-app\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8692

[error] Error: Neither apiKey nor config.authenticator provided
    at Stripe._setAuthenticator (C:\Users\allan\Desktop\Projetos VSCODE\Full-stack\amazon-clone-app\functions\node_modules\stripe\cjs\stripe.core.js:156:23)
    at new Stripe (C:\Users\allan\Desktop\Projetos VSCODE\Full-stack\amazon-clone-app\functions\node_modules\stripe\cjs\stripe.core.js:94:14)
    at Stripe (C:\Users\allan\Desktop\Projetos VSCODE\Full-stack\amazon-clone-app\functions\node_modules\stripe\cjs\stripe.core.js:50:20)
    at Object.<anonymous> (C:\Users\allan\Desktop\Projetos VSCODE\Full-stack\amazon-clone-app\functions\index.js:17:33)
    at Module._compile (node:internal/modules/cjs/loader:1469:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
    at Module.load (node:internal/modules/cjs/loader:1288:32)
    at Module._load (node:internal/modules/cjs/loader:1104:12)
    at Module.require (node:internal/modules/cjs/loader:1311:19)
    at require (node:internal/modules/helpers:179:18)

[debug] [2025-08-01T05:59:51.807Z] Got response code 400; body Failed to generate manifest from function source: Neither apiKey nor config.authenticator provided
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
